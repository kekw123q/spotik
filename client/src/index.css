@import url("https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap");
@import url("https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;500;600;700&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap");
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --background: 0 0% 96%;
        --foreground: 0 0% 9%;
        --card: 0 0% 98%;
        --card-foreground: 0 0% 9%;
        --popover: 0 0% 96%;
        --popover-foreground: 0 0% 9%;
        --primary: 243 75% 58%;
        --primary-foreground: 225 100% 96%;
        --secondary: 0 0% 89%;
        --secondary-foreground: 0 0% 9%;
        --muted: 0 0% 90%;
        --muted-foreground: 0 0% 45%;

        /* FIX: Restore light accent for Light Theme so text-primary is visible on bg-accent */
        --accent: 250 100% 97%;
        --accent-foreground: 243 75% 58%;

        --destructive: 0 84% 60%;
        --destructive-foreground: 0 0% 98%;
        --border: 0 0% 89%;
        --input: 0 0% 89%;
        --ring: 243 75% 58%;
        --radius: 0.75rem;

        --chart-1: 234 89% 73%;
        --chart-2: 255 91% 76%;
        --chart-3: 270 95% 75%;
        --chart-4: 238 83% 66%;
        --chart-5: 0 0% 45%;

        --sidebar-background: 0 0% 98%;
        --sidebar-foreground: 0 0% 9%;
        --sidebar-primary: 243 75% 58%;
        --sidebar-primary-foreground: 225 100% 96%;
        --sidebar-accent: 250 100% 97%;
        --sidebar-accent-foreground: 243 75% 58%;
        --sidebar-border: 0 0% 85%;
        --sidebar-ring: 243 75% 58%;
    }

    .dark {
        --background: 222 47% 11%;
        --foreground: 210 40% 98%;
        --card: 222 47% 13%;
        --card-foreground: 210 40% 98%;
        --popover: 222 47% 11%;
        --popover-foreground: 210 40% 98%;
        --primary: 243 75% 65%;
        --primary-foreground: 222 47% 11%;
        --secondary: 217 32% 17%;
        --secondary-foreground: 210 40% 98%;
        --muted: 217 32% 17%;
        --muted-foreground: 215 20.2% 65.1%;
        --accent: 217 32% 17%;
        --accent-foreground: 210 40% 98%;
        --destructive: 0 62.8% 30.6%;
        --destructive-foreground: 210 40% 98%;
        --border: 217 32% 17%;
        --input: 217 32% 17%;
        --ring: 243 75% 65%;

        --sidebar-background: 222 47% 13%;
        --sidebar-foreground: 210 40% 98%;
        --sidebar-primary: 243 75% 65%;
        --sidebar-primary-foreground: 222 47% 11%;
        --sidebar-accent: 217 32% 17%;
        --sidebar-accent-foreground: 210 40% 98%;
        --sidebar-border: 217 32% 17%;
        --sidebar-ring: 243 75% 65%;
    }
}

/* --- LIQUID GLASS OVERRIDES --- */

.glass body {
    background-attachment: fixed;
    background-size: cover;
}

.dark.glass {
    --background: 0 0% 0% / 0;
    --foreground: 210 40% 98%;

    --card: 240 10% 3.9% / 0.4;
    --card-foreground: 0 0% 98%;

    --popover: 240 10% 3.9% / 0.5;
    --popover-foreground: 0 0% 98%;

    --primary: 243 85% 75%;
    --primary-foreground: 222 47% 11%;

    --muted: 0 0% 0% / 0.4;
    --muted-foreground: 0 0% 75%;

    --accent: 243 85% 75% / 0.15;
    --accent-foreground: 0 0% 100%;

    --border: 0 0% 100% / 0.1;
    --input: 0 0% 0% / 0.4;
}

.glass:not(.dark) {
    --background: 0 0% 100% / 0;
    --foreground: 222 47% 11%;

    --card: 0 0% 100% / 0.4;
    --card-foreground: 222 47% 11%;

    --popover: 0 0% 100% / 0.5;
    --popover-foreground: 222 47% 11%;

    --primary: 243 75% 40%;
    --primary-foreground: 210 40% 98%;

    --muted: 0 0% 100% / 0.4;
    --muted-foreground: 215 16% 40%;

    --accent: 243 75% 40% / 0.1;
    --accent-foreground: 243 75% 40%;

    --border: 0 0% 0% / 0.1;
    --input: 0 0% 100% / 0.5;
}

.dark.glass body {
    background-image:
            radial-gradient(at 10% 10%, hsla(253,16%,15%,1) 0, transparent 50%),
            radial-gradient(at 50% 0%, hsla(225,39%,20%,1) 0, transparent 50%),
            radial-gradient(at 90% 90%, hsla(339,49%,20%,1) 0, transparent 50%),
            linear-gradient(to bottom, #0f0c29, #302b63, #24243e);
}

.glass:not(.dark) body {
    background-image:
            radial-gradient(at 0% 0%, rgba(255, 154, 158, 0.5) 0, transparent 60%),
            radial-gradient(at 100% 0%, rgba(161, 140, 209, 0.5) 0, transparent 60%),
            linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
}

/* GLASS COMPONENT STYLES */

.glass .bg-card,
.glass .bg-popover,
.glass .bg-sidebar,
.glass header,
.glass aside > div,
.glass .bg-muted {
    backdrop-filter: blur(20px) saturate(150%);
    -webkit-backdrop-filter: blur(20px) saturate(150%);

    box-shadow:
            0 4px 30px rgba(0, 0, 0, 0.1),
            inset 0 0 0 1px rgba(255, 255, 255, 0.1);

    border: 1px solid transparent !important;
    background-clip: padding-box;
}

.dark.glass .bg-card,
.dark.glass .bg-popover,
.dark.glass header {
    border-color: rgba(255, 255, 255, 0.1) !important;
}

.glass:not(.dark) .bg-card,
.glass:not(.dark) .bg-popover,
.glass:not(.dark) header {
    border-color: rgba(255, 255, 255, 0.4) !important;
}

.glass input {
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

.dark.glass input {
    background-color: rgba(0, 0, 0, 0.3) !important;
    border-color: rgba(255, 255, 255, 0.15) !important;
    color: white !important;
}

.glass:not(.dark) input {
    background-color: rgba(255, 255, 255, 0.4) !important;
    border-color: rgba(0, 0, 0, 0.1) !important;
    color: black !important;
}
.glass:not(.dark) input::placeholder {
    color: rgba(0, 0, 0, 0.5);
}

.glass [role="tabpanel"] {
    backdrop-filter: none !important;
    box-shadow: none !important;
    border: none !important;
    background: transparent !important;
}

.glass h1, .glass h2, .glass h3 {
    text-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
    }
}